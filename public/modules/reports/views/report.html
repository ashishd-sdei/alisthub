<!-- Container -->
<div class="container">
    <h1>Event Dashboard</h1>
    <!-- Form COntainer -->
    <div class="wt-frame form-section">
        <section class="d-panel">
            <section class="d-panel-heading">
                <section class="row searchheight">

                    <div class="col-sm-3">
                        <div class="form-group">
                            <label>Graph Type</label>
                            <select class="form-controlcd form-control" ng-model="graphType" ng-init="graphType = grphsTypes[0]" ng-options="x.type for x in grphsTypes">
                            </select>
                        </div>
                    </div>

                    <div class="col-sm-2">
                    <div class="form-group">
                        <label>Date Filter</label>
                        <select class="form-controlcd form-control" ng-model="datetype">
                            <option value="Today">Today</option>
                            <option value="Last 7 days">Last 7 days</option>
                            <option value="Last 14 days">Last 14 days</option>
                            <option selected="selected" value="Last 30 days">Last 30 days</option>
                            <option value="Custom">Custom</option>
                        </select>
                    </div>
                    </div>
                    <div class="col-sm-3" ng-show="showdatereports">
                    <div class="form-group">
                      <section class="left-label-reports">
                          <label for="EndTime">Start Date</label>
                          <section class="left-fields">  
                            <section class="select-date-reports"> 
                             <div class='input-group date datepicker'>
                                <input type="date" class="form-control" uib-datepicker-popup="{{format}}" ng-model="startdate" is-open="popup5.opened" datepicker-options="options" close-text="Close" alt-input-formats="altInputFormats"  ng-change="customsearchdata()" />
                                <span class="input-group-addon"> <span class="glyphicon glyphicon-calendar"  ng-click="open5()"></span> </span>  
                             </div>
                            </section>
                          </section>
                      </section>
                    </div>
                    </div>
                    <div class="col-sm-3" ng-show="showdatereports">            
                    <div class="form-group">
                      <section class="left-label-reports">
                          <label for="EndTime">End Date</label>
                          <section class="left-fields">                                            
                                <section class="select-date-reports">
                                 <div class='input-group date datepicker'>
                                    <input type="date" class="form-control" uib-datepicker-popup="{{format}}" ng-model="enddate" is-open="popup1.opened" datepicker-options="options" close-text="Close" alt-input-formats="altInputFormats" ng-change="customsearchdata()" />
                                    <span class="input-group-addon"> <span class="glyphicon glyphicon-calendar"  ng-click="open1()"></span> </span>  
                                 </div>
                                </section>
                          </section>
                      </section>
                    </div> 
                    </div>
                </section>
            </section>
            <section class="d-panel-body">
                <section class="row">
                    <section class="col-sm-3">
                        <div class="panel panel-primary">
                            <div class="panel-heading">
                                <div class="row">
                                    <div class="col-xs-3">
                                        <i class="fa fa-ticket fa-4x"></i>
                                    </div>
                                    <div class="col-xs-9 text-right">
                                        <div class="huge">{{totalTicketSold}}</div>
                                        <div>Tickets Sold</div>
                                    </div>
                                </div>
                            </div>
                            <div class="panel-footer same-as text-center">Past {{daysShow}}</div>
                        </div>
                        <!--Tickets Sold-->
                        <div class="panel panel-pink">
                            <div class="panel-heading">
                                <div class="row">
                                    <div class="col-xs-3">
                                        <i class="fa fa-usd fa-4x"></i>
                                    </div>
                                    <div class="col-xs-9 text-right">
                                        <div class="huge">{{totalTicketRevenue}}</div>
                                        <div>Tickets Revenue</div>
                                    </div>
                                </div>
                            </div>
                            <div class="panel-footer same-as text-center">Past {{daysShow}}</div>
                        </div>
                        <!--Tickets Revenue-->
                        <div class="panel panel-green">
                            <div class="panel-heading">
                                <div class="row">
                                    <div class="col-xs-3">
                                        <i class="fa fa-percent fa-4x"></i>
                                    </div>
                                    <div class="col-xs-9 text-right">
                                        <div class="huge">0.0</div>
                                        <div>Conversion Rate</div>
                                    </div>
                                </div>
                            </div>
                            <div class="panel-footer same-as text-center">Past {{daysShow}}</div>
                        </div>
                        <!--Conversion Rate-->
                    </section>

                    <section class="col-sm-9">
                        <section class="panel graph-frame">
                            <section class="panel-body">
                            <canvas id="bar" class="chart chart-bar" chart-data="chartData" chart-labels="labels"  chart-series="series" chart-colors="colors"></canvas>
                            </section> 
                        </section>
                    </section>
                </section>
            </section>
        </section>
        <!--/Top Section-->
        <br/><br/><br/><br/><br/><br/>
        <section class="module">
            <section class="prof-hd no-icon">
                <h2>Events <span class="rt-img"><i class="fa"></i></span></h2>
                <span>Click on any event below to view an overview of the sales</span>
            </section>
            <section class="gray-frame">
                <section class="grid-widget">
		            <div class="table-responsive">
                        <table ng-table="tableParams"  class="table table-striped table-ng-style">
                            <tbody>
                                <tr  ng-repeat="pdata in $data | filter:filter">
                                    <td theader-class="'header-text-align'"  title="'Id'" header-class="'header-text-align'" filter="{ id: 'number'}" sortable="'id'" width="20%" ><a href="#"><strong>{{pdata.id}}</strong></a></td>
                                    <td title="'Name'" header-class="'header-text-align'" filter="{ title: 'text'}" sortable="'title'" width="40%">
                                        <p><a href="#"><strong>{{pdata.title}}</strong></a></p>
                                    </td>
                                    
                                    <td title="'Start date'" header-class="'header-text-align'" filter="{ title: 'start_date'}" sortable="'start_date'" width="20%">{{pdata.recurring_or_not == 0 ? (pdata.start_date | date:"dd MMMM yyyy") : 'Event Series'}}</td>

                                    <!--  <td class="numbers">{{upcoming.sold}}</td>-->
                                    <td title="'Action'" class="action" width="20%">
                                        <a title="Overview" href="javascript:void(0)"  ng-click="viewOverviewHref(pdata.id,pdata.recurring_or_not.toString())" ><i class="fa fa-pie-chart"></i></a>
                                        <a title="Schedules" ng-if="pdata.recurring_or_not == 1" href="/#/event_schedule/{{pdata.id}}"><i class="fa fa-calendar-o"></i></a>
                                        <a title="Guest List" ng-if="pdata.recurring_or_not == 0" href="/#/guest_list/{{pdata.id}}"><i class="fa fa-list-ul"></i></a>
                                        <a ng-if = checkPermission(permission[0],'edit') title="edit" href="javascript:void(0)" ng-click="recurringHref(pdata.id,pdata.recurring_or_not.toString())"><i class="fa fa-edit"></i></a>
    									<a ng-if = checkPermission(permission[0],'delete') style="cursor:pointer;" title="delete" ng-confirm-clicks="Would you like to delete this Event?" ng-click="delEvent(pdata.id)"><i class="fa fa-trash"></i></a>
                                        <a title="view" ng-if = checkPermission(permission[0],'view') href="/#/view_event/{{pdata.id}}"><i class="fa fa-eye"></i></a>
									</td>
                                    <!--  <td><a title="view" href="/#/event/{{pdata.id}}"><i class="fa fa-clone"></i></a></td> --> 
                                </tr>
                                       

                                    <tr ng-show="loader">
                                        <td colspan="4" align="center"><img src="/images/icons/loader.gif"></td>
                                    </tr>
				                    <tr ng-if="$data == ''">
                                        <td colspan="4" align="center">No Record found!</td>
                                    </tr>
                                </tbody>
                            </table>
                    </div>
                    
                    <section class="grid-bottm clearfix">
                        <section class="gr-right pull-right">
                            <ul class="legends">
                                <li><i class="fa fa-calendar-o"></i> <span>Schedules</span></li>
                                <li><i class="fa fa-pie-chart"></i><span>Overview</span></li>
                                <li ng-if = checkPermission(permission[0],'edit')><i class="fa fa-edit"></i><span>Edit</span></li>
                                <li ng-if = checkPermission(permission[0],'view')><i class="fa fa-eye"></i><span>View</span></li>
                                <li ng-if = checkPermission(permission[0],'delete')><i class="fa fa-trash"></i><span>Delete</span></li>
                            </ul>
                        </section>
                    </section>
                </section>
            </section>
        </section>
        <!--/Upcoming Events-->
       
  
    </div>
    <!-- //Form COntainer --> 
</div>
<!-- //Container --> 
</div>
